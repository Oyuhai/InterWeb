<!DOCTYPE html>
<html lang="mn">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>INTERN - List Page</title>
        <meta name="description" content="Заруудын жагсаалт гарч ирнэ">
        <script type="module" src="../componentTest/component.js"></script>
        <link rel="stylesheet" href="../pages/css/root.css">
        <link rel="stylesheet" href="../pages/css/list.css">
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>

    <body>
        <!-- Header -->
        <header class="flex-col">
            <nav class="wrap header-top flex-row">
                <a href="./home.html" class="logo">INTERN</a>
                <a class="mobile-none" href="./home.html">Нүүр хуудас</a>
                <a class="mobile-none" href="./list.html">Зарууд</a>
                <a class="mobile-none profile-image" id="profileLink">
                    <img id="profileImage" src="../pics/profileIcon.png" alt="Хэрэглэгчийн профайл зураг">
                </a>
            </nav>
            <div class="flex-col wrap header-search">
                <filter-component></filter-component>
            </div>
            <nav class="desktop-none mobile-nav">
                <a class="mobile-nav-icon" href="home.html">
                    <i class="fa fa-home"></i>
                    <p>Нүүр хуудас</p>
                </a>
                <a class="mobile-nav-icon" href="list.html">
                    <i class='fa fa-book'></i>
                    <p>Зарууд</p>
                </a>
                <a class="mobile-nav-icon" href="studprofile.html">
                    <i class='fa fa-user-circle'></i>
                    <p>Профайл</p>
                </a>
            </nav>
        </header>

        <main>
            <article class="flex-col wrap container-padding-x">
                <h3>Олдсон зарууд</h3>
                <ad-list-component></ad-list-component>
            </article>
        </main>

        <footer class="wrap container-padding-x">
            <div class="footer-content">
                <div class="footer-logo">
                    <div class="logo">INTERN</div>
                    <p>Шинэ заруудыг хүлээлгүй авахын тулд манайд нэгдээрэй.</p>
                    <p>Бүртгүүлснээр та манай <u>Нууцлалын бодлогыг</u> хүлээн зөвшөөрч, манай компанийн мэдээлэл
                        мэйлээр авахыг зөвшөөрч байна.</p>
                </div>
                <nav class="mobile-none footer-links">
                    <h4>Хэрэгтэй хуудас</h4>
                    <ul>
                        <li><a href="#">Нүүр хуудас</a></li>
                        <li><a href="#">Заруд</a></li>
                        <li><a href="#">Бүртгүүлэх</a></li>
                        <li><a href="#">Нэвтрэх</a></li>
                    </ul>
                </nav>
                <nav class="mobile-none footer-social">
                    <h4>Бидэнтэй нэгдээрэй</h4>
                    <ul>
                        <li><a href="#">Facebook</a></li>
                        <li><a href="#">Instagram</a></li>
                        <li><a href="#">X</a></li>
                        <li><a href="#">LinkedIn</a></li>
                    </ul>
                </nav>
            </div>
            <p class="footer-bottom">© 2024 Internships. All rights reserved.</p>
        </footer>

        <script>
            const isLoggedIn = localStorage.getItem('isLoggedIn');
            const profileImage = document.getElementById('profileImage');
            const profileLink = document.getElementById('profileLink');

            if (isLoggedIn) {
                profileImage.src = '../pics/profile.webp';
                profileLink.href = './studprofile.html'; // Redirect to profile page if logged in
            } else {
                profileLink.href = './signInStud.html'; // Redirect to login page if not logged in
            }

            // Redirect logic for profile link
            profileLink.addEventListener('click', (event) => {
                if (!isLoggedIn) {
                    window.location.href = './signInStud.html'; // Redirect to login if not logged in
                }
            });
        </script>
        <!-- <script>
            async function fetchZaruud() {
                try {
                    const response = await fetch("http://localhost:5000/api/zaruud");
                    const zaruud = await response.json();

                    const zarContainer = document.getElementById("zar-container");
                    zarContainer.innerHTML = "";

                    zaruud.forEach((zar) => {
                        const div = document.createElement("div");
                        div.innerHTML = `
                        <h3>${zar.position}</h3>
                        <p>Шалгуурууд: ${zar.experience}</p>
                        <p>Цалин: ${zar.salary}</p>
                        <p>Нэмэлт: ${zar.benefit}</p>
                        <p>Хугацаа: ${zar.duration}</p>
                        <hr>
                    `;
                        zarContainer.appendChild(div);
                    });
                } catch (error) {
                    console.error("Алдаа:", error);
                }
            }

            fetchZaruud();
        </script> -->
    </body>

</html>